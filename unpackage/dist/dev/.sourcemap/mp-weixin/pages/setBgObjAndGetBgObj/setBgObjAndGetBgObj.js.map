{"version":3,"sources":["uni-app:///main.js","webpack:///F:/uni插件/QS-SharePoster示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?87aa","webpack:///F:/uni插件/QS-SharePoster示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?93e8","webpack:///F:/uni插件/QS-SharePoster示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?e438","webpack:///F:/uni插件/QS-SharePoster示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?cf0b","uni-app:///pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue","webpack:///F:/uni插件/QS-SharePoster示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?d1e0","webpack:///F:/uni插件/QS-SharePoster示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?23d0"],"names":["createPage","Page"],"mappings":"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","file":"pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./setBgObjAndGetBgObj.vue?vue&type=template&id=a77efe64&\"\nvar renderjs\nimport script from \"./setBgObjAndGetBgObj.vue?vue&type=script&lang=js&\"\nexport * from \"./setBgObjAndGetBgObj.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setBgObjAndGetBgObj.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=template&id=a77efe64&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 说明 -->\r\n\t\t<text style=\"font-size: 29rpx;color: #999;\">\r\n\t\t\tdrawArray为Function时, 携带参数对象新增方法setBgObj、getBgObj\\n\r\n\t\t\tsetBgObj为动态设置画布大小方法传参 { height: Number, width: Number }\\n\r\n\t\t\tgetBgObj方法返回最新的画布信息\\n\r\n\t\t</text>\r\n\t\t<!-- 生成海报 -->\r\n\t\t<button type=\"primary\" @tap=\"shareFc()\">生成海报</button>\r\n\t\t<!-- 图片展示由自己实现 -->\r\n\t\t<QSPopup ref=\"popup\">\r\n\t\t\t<view class=\"flex_column\">\r\n\t\t\t\t<view class=\"backgroundColor-white padding1vh border_radius_10px\">\r\n\t\t\t\t\t<image :src=\"posterImage || ''\" mode=\"widthFix\" class=\"posterImage\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex_row marginTop2vh\">\r\n\t\t\t\t\t<button type=\"primary\" size=\"mini\" @tap.prevent.stop=\"saveImage()\">保存图片</button>\r\n\t\t\t\t\t<button type=\"primary\" size=\"mini\" @tap.prevent.stop=\"share()\">分享图片</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</QSPopup>\r\n\t\t<!-- 画布 -->\r\n\t\t<view class=\"hideCanvasView\">\r\n\t\t\t<canvas class=\"hideCanvas\" id=\"default_PosterCanvasId\" canvas-id=\"default_PosterCanvasId\" :style=\"{width: (poster.width||10) + 'px', height: (poster.height||10) + 'px'}\"></canvas>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport _app from '@/util/QS-SharePoster/app.js';\r\n\timport {\r\n\t\tgetSharePoster\r\n\t} from '@/util/QS-SharePoster/QS-SharePoster.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tposter: {},\r\n\t\t\t\tposterImage: '',\r\n\t\t\t\tcanvasId: 'default_PosterCanvasId',\r\n\t\t\t\tcount: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync shareFc() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.count++;\r\n\t\t\t\t\t_app.log('准备生成:' + new Date())\r\n\t\t\t\t\tconst d = await getSharePoster({\r\n\t\t\t\t\t\t_this: _this, //若在组件中使用 必传\r\n\t\t\t\t\t\tcanvasType: '2d',\r\n\t\t\t\t\t\ttype: 'testShareType',\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t//访问接口获取背景图携带自定义数据\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tposterCanvasId: _this.canvasId, //canvasId\r\n\t\t\t\t\t\tdelayTimeScale: 20, //延时系数\r\n\t\t\t\t\t\tbackground: {\r\n\t\t\t\t\t\t\theight: 10,\r\n\t\t\t\t\t\t\twidth: 10\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsetCanvasWH({\r\n\t\t\t\t\t\t\tbgObj\r\n\t\t\t\t\t\t}) {\r\n\t\t\t\t\t\t\t_this.poster = bgObj\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdrawArray({\r\n\t\t\t\t\t\t\tbgObj,\r\n\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\tbgScale,\r\n\t\t\t\t\t\t\tsetBgObj,\r\n\t\t\t\t\t\t\tgetBgObj\r\n\t\t\t\t\t\t}) {\r\n\t\t\t\t\t\t\treturn [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\t\t\t\t\tid: 'productImage',\r\n\t\t\t\t\t\t\t\t\turl: 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F201802%2F09%2F20180209120154_oycpr.jpg&refer=http%3A%2F%2Fc-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1613449188&t=6f2f5c5a6150b5cc5e516e7d998bf7b2',\r\n\t\t\t\t\t\t\t\t\tdx: 0,\r\n\t\t\t\t\t\t\t\t\tdy: 0,\r\n\t\t\t\t\t\t\t\t\tserialNum: 0,\r\n\t\t\t\t\t\t\t\t\tinfoCallBack(imageInfo) {\r\n\t\t\t\t\t\t\t\t\t\tlet width;\r\n\t\t\t\t\t\t\t\t\t\tlet height;\r\n\t\t\t\t\t\t\t\t\t\tif (imageInfo.width > imageInfo.height) {\r\n\t\t\t\t\t\t\t\t\t\t\twidth = imageInfo.width > 700 ? 700 : imageInfo.width;\r\n\t\t\t\t\t\t\t\t\t\t\theight = width / imageInfo.width * imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\theight = imageInfo.height > 700 ? 700 : imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t\t\twidth = height / imageInfo.height * imageInfo.width;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (width < 500) {\r\n\t\t\t\t\t\t\t\t\t\t\twidth = 500;\r\n\t\t\t\t\t\t\t\t\t\t\theight = width / imageInfo.width * imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlet addHeight = height * .3;\r\n\t\t\t\t\t\t\t\t\t\tif (addHeight < 150) addHeight = 150;\r\n\t\t\t\t\t\t\t\t\t\tif (addHeight > 250) addHeight = 250;\r\n\t\t\t\t\t\t\t\t\t\tsetBgObj({\r\n\t\t\t\t\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\t\t\t\t\theight: height + addHeight\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tdWidth: width,\r\n\t\t\t\t\t\t\t\t\t\t\tdHeight: height\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\tid: 'productName',\r\n\t\t\t\t\t\t\t\t\ttext: '取舍',\r\n\t\t\t\t\t\t\t\t\tcolor: '#000',\r\n\t\t\t\t\t\t\t\t\tserialNum: 1,\r\n\t\t\t\t\t\t\t\t\tallInfoCallback({\r\n\t\t\t\t\t\t\t\t\t\tdrawArray\r\n\t\t\t\t\t\t\t\t\t}) {\r\n\t\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage')\r\n\t\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tsize: getBgObj().width * 0.05,\r\n\t\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: getBgObj().width * 0.5,\r\n\t\t\t\t\t\t\t\t\t\t\t\tlineNum: 1\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tdx: getBgObj().width * .05,\r\n\t\t\t\t\t\t\t\t\t\t\tdy: productImage.dHeight + addHeight * .25,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\ttext: '棒棒哒~',\r\n\t\t\t\t\t\t\t\t\tcolor: '#f1505c',\r\n\t\t\t\t\t\t\t\t\tserialNum: 2,\r\n\t\t\t\t\t\t\t\t\tallInfoCallback({\r\n\t\t\t\t\t\t\t\t\t\tdrawArray\r\n\t\t\t\t\t\t\t\t\t}) {\r\n\t\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage')\r\n\t\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tsize: getBgObj().width * 0.05,\r\n\t\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: getBgObj().width * 0.5,\r\n\t\t\t\t\t\t\t\t\t\t\t\tlineNum: 1\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tdx: getBgObj().width * .05,\r\n\t\t\t\t\t\t\t\t\t\t\tdy: productImage.dHeight + addHeight * .5,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\ttext: '无情哈拉少',\r\n\t\t\t\t\t\t\t\t\tserialNum: 3,\r\n                  id: 'text1',\r\n\t\t\t\t\t\t\t\t\tallInfoCallback({\r\n\t\t\t\t\t\t\t\t\t\tdrawArray\r\n\t\t\t\t\t\t\t\t\t}) {\r\n\t\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage')\r\n\t\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tsize: getBgObj().width * 0.05,\r\n\t\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: getBgObj().width * 0.5,\r\n\t\t\t\t\t\t\t\t\t\t\t\tlineNum: 1\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tdx: getBgObj().width * .05,\r\n\t\t\t\t\t\t\t\t\t\t\tdy: productImage.dHeight + addHeight * .75,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n                {\r\n                \ttype: 'text',\r\n                \ttext: '无情哈拉少1111111',\r\n                \tserialNum: 4,\r\n                \tallInfoCallback({\r\n                \t\tdrawArray\r\n                \t}) {\r\n                \t\tconst productImage = drawArray.find(item => item.id === 'productImage')\r\n                    const text1 = drawArray.find(item => item.id === 'text1')\r\n                    console.log(text1.textLength, 1111111111111111111111111)\r\n                \t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n                \t\treturn {\r\n                \t\t\tsize: getBgObj().width * 0.05,\r\n                \t\t\tlineFeed: {\r\n                \t\t\t\tmaxWidth: getBgObj().width * 0.5,\r\n                \t\t\t\tlineNum: 1\r\n                \t\t\t},\r\n                \t\t\tdx: getBgObj().width * .05 + text1.textLength,\r\n                \t\t\tdy: productImage.dHeight + addHeight * .75,\r\n                \t\t}\r\n                \t}\r\n                },\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'qrcode',\r\n\t\t\t\t\t\t\t\t\ttext: '123456',\r\n\t\t\t\t\t\t\t\t\tserialNum: 5,\r\n\t\t\t\t\t\t\t\t\tallInfoCallback({\r\n\t\t\t\t\t\t\t\t\t\tdrawArray\r\n\t\t\t\t\t\t\t\t\t}) {\r\n\t\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage')\r\n\t\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\t\tconst widthSize = getBgObj().width * .4;\r\n\t\t\t\t\t\t\t\t\t\tconst heightSize = addHeight;\r\n\t\t\t\t\t\t\t\t\t\tconst countSize = widthSize > heightSize ? heightSize : widthSize;\r\n\t\t\t\t\t\t\t\t\t\tconst size = countSize * .9;\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tsize: size,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: getBgObj().width - countSize * .95,\r\n\t\t\t\t\t\t\t\t\t\t\tdy: getBgObj().height - countSize * .95\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t_app.log('海报生成成功, 时间:' + new Date() + '， 临时路径: ' + d.poster.tempFilePath)\r\n\t\t\t\t\tthis.posterImage = d.poster.tempFilePath;\r\n\t\t\t\t\tthis.$refs.popup.show()\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t_app.hideLoading();\r\n\t\t\t\t\t_app.showToast(JSON.stringify(e));\r\n\t\t\t\t\tconsole.log(JSON.stringify(e));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsaveImage() {\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\tfilePath: this.poster.finalPath,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_app.showToast('保存成功');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\t_app.showToast('保存了');\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tshare() {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t_app.getShare(false, false, 2, '', '', '', this.poster.finalPath, false, false);\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifndef APP-PLUS\r\n\t\t\t\t_app.showToast('分享了');\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\thideQr() {\r\n\t\t\t\tthis.$refs.popup.hide()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.hideCanvasView {\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.hideCanvas {\r\n\t\tposition: fixed;\r\n\t\ttop: -99999upx;\r\n\t\tleft: -99999upx;\r\n\t\tz-index: -99999;\r\n\t}\r\n\r\n\t.flex_row_c_c {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.modalView {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\topacity: 0;\r\n\t\toutline: 0;\r\n\t\ttransform: scale(1.2);\r\n\t\tperspective: 2500upx;\r\n\t\tbackground: rgba(0, 0, 0, 0.6);\r\n\t\ttransition: all .3s ease-in-out;\r\n\t\tpointer-events: none;\r\n\t\tbackface-visibility: hidden;\r\n\t\tz-index: 999;\r\n\t}\r\n\r\n\t.modalView.show {\r\n\t\topacity: 1;\r\n\t\ttransform: scale(1);\r\n\t\tpointer-events: auto;\r\n\t}\r\n\r\n\t.flex_column {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.backgroundColor-white {\r\n\t\tbackground-color: white;\r\n\t}\r\n\r\n\t.border_radius_10px {\r\n\t\tborder-radius: 10px;\r\n\t}\r\n\r\n\t.padding1vh {\r\n\t\tpadding: 1vh;\r\n\t}\r\n\r\n\t.posterImage {\r\n\t\twidth: 60vw;\r\n\t}\r\n\r\n\t.flex_row {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.marginTop2vh {\r\n\t\tmargin-top: 2vh;\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1617946728900\n      var cssReload = require(\"E:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}